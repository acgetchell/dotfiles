#!/bin/bash

#Run in home directory
sudo -v

brew update
brew upgrade
brew tap homebrew/versions
brew tap caskroom/cask
brew tap homebrew/dupes
brew install brew-cask

# General devel
brew cask install atom
# Packages:
apm install Zen
apm install travis-ci-status
apm install latex
apm install language-latex
apm install dash
apm install script
apm install linter
apm install linter-pylint
apm install language-cmake
apm install linter-clang
brew cask install github
# Run brew doctor and fix PATH so that /usr/local/bin comes first

# C++ devel
brew install open-mpi --c++11 --enable-mpi-thread-multiple
brew install boost --c++11 --without-single --with-mpi
brew install doxygen --with-doxywizard --with-graphviz --with-libclang
# GraphViz generates nice diagrams for doxygen
# Requires xquartz and a full install of Xcode
brew cask install xquartz
# To run X11/Xquartz apps locally from remote clients
# Create ~/.ssh/config and add in:
# ForwardX11 yes
# ForwardX11Trusted yes
#brew install graphviz --with-app --with-x
brew install cmake
brew install cpputest
# Manual install of gmock and gtest
brew install ninja
# Intel thread building blocks
brew install tbb --c++11
brew install cppcheck
brew install eigen
brew install cgal --c++11 --imaging --with-eigen3 --with-lapack

# Python devel
# MacOS default python doesn't work with pelican
brew install python
sudo easy_install pip
sudo pip install --upgrade setuptools
sudo pip install --upgrade pip
sudo pip install pylint
sudo pip install bigfloat
sudo pip install sympy
# Pelican blogging
sudo pip install pelican
sudo pip install Markdown
sudo pip install typogrify
sudo pip install --upgrade pelican
sudo pip install ghp-import

# SAGE
brew cask install sage

# R devel
brew tap homebrew/science
brew install r
apm install language-r

# devel boxen
brew cask install virtualbox
brew cask install vagrant
brew install docker
# Checkout http://www.siliconfidential.com/articles/docker-coreos-osx/

# Research
brew cask install zotero
brew cask install anki
# Geomview generates 2D and 3D diagrams for CGAL
# but it needs xquartz first
brew install geomview
# xpdf for X11 and geomview
brew install xpdf

# Utilities
#brew cask install shiftit
brew install ssh-copy-id
brew cask install menumeters
brew cask install openssh --with-brewed-openssl --with-keychain-support --with-ldns
brew cask install todoist

# Must have git first
# Install homesick
gem install homesick
homesick clone https://github.com/acgetchell/dotfiles.git

# Install bash_it
git clone http://github.com/revans/bash-it.git ~/.bash_it
~/.bash_it/install.sh
# Pull .bash_profile from github dotfiles, overwriting the one bash_it just made
homesick pull dotfiles
homesick symlink dotfiles -f

# Applications
brew cask install cleanmymac
brew cask install box-sync
brew cask install firefox
brew cask install mactex
# Fix path in .bashrc so tlmgr is accessible
sudo tlmgr update --self
sudo tlmgr update --all
brew cask install skype
brew cask install torbrowser
# So LaTexIt can export to SVG
brew install pdf2svg

# Fun
brew cask install openemu

# Link installed apps to ~/Applications
brew linkapps

# Cleanup
brew cleanup
